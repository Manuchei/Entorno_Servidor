<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Editar Evento</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
	rel="stylesheet">
</head>
<body>
	<div class="container mt-5">
		<h1 class="text-center mb-4">Editar Evento</h1>
		<form th:action="@{/app/evento/editar/{id}(id=${evento.idEvento})}"
			th:method="post" th:object="${evento}" class="needs-validation"
			novalidate>
			<div class="mb-3">
				<label for="nombre" class="form-label">Nombre:</label> <input
					type="text" id="nombre" name="nombre" class="form-control"
					th:value="${evento.nombre}" required />
				<div class="invalid-feedback">Por favor, introduce el nombre.</div>
			</div>
			<div class="mb-3">
				<label for="descripcion" class="form-label">Descripción:</label>
				<textarea id="descripcion" name="descripcion" class="form-control"
					required th:text="${evento.descripcion}"></textarea>
				<div class="invalid-feedback">Por favor, introduce la
					descripción.</div>
			</div>
			<div class="mb-3">
				<label for="fecha" class="form-label">Fecha:</label> <input
					type="date" id="fecha" name="fechaInicio" class="form-control"
					th:value="${#dates.format(evento.fechaInicio, 'yyyy-MM-dd')}"
					required />
				<div class="invalid-feedback">Por favor, selecciona una fecha.</div>
			</div>
			<div class="mb-3">
				<label for="duracion" class="form-label">Duración:</label> <input
					type="number" id="duracion" name="duracion" class="form-control"
					th:value="${evento.duracion}" required />
				<div class="invalid-feedback">Por favor, introduce la duración
					en horas.</div>
			</div>
			<div class="mb-3">
				<label for="direccion" class="form-label">Dirección:</label> <input
					type="text" id="direccion" name="direccion" class="form-control"
					th:value="${evento.direccion}" required />
				<div class="invalid-feedback">Por favor, introduce la
					dirección.</div>
			</div>
			<div class="mb-3">
				<label for="estado" class="form-label">Estado:</label> <select
					id="estado" name="estado" class="form-select"
					th:value="${evento.estado}" required>
					<option value="Aceptado"
						th:selected="${evento.estado == 'Aceptado'}">Aceptado</option>
					<option value="Terminado"
						th:selected="${evento.estado == 'Terminado'}">Terminado</option>
					<option value="Cancelado"
						th:selected="${evento.estado == 'Cancelado'}">Cancelado</option>
				</select>
				<div class="invalid-feedback">Por favor, selecciona un estado.</div>
			</div>
			<div class="mb-3">
				<label for="destacado" class="form-label">Destacado:</label> <select
					id="destacado" name="destacado" class="form-select"
					th:value="${evento.destacado}">
					<option value="s" th:selected="${evento.destacado == 's'}">Sí</option>
					<option value="n" th:selected="${evento.destacado == 'n'}">No</option>
				</select>
			</div>
			<div class="mb-3">
				<label for="aforoMaximo" class="form-label">Aforo Máximo:</label> <input
					type="number" id="aforoMaximo" name="aforoMaximo"
					class="form-control" th:value="${evento.aforoMaximo}" required />
				<div class="invalid-feedback">Por favor, introduce el aforo
					máximo.</div>
			</div>
			<div class="mb-3">
				<label for="minimoAsistencia" class="form-label">Mínimo
					Asistencia:</label> <input type="number" id="minimoAsistencia"
					name="minimoAsistencia" class="form-control"
					th:value="${evento.minimoAsistencia}" required />
				<div class="invalid-feedback">Por favor, introduce el mínimo
					de asistencia.</div>
			</div>
			<div class="mb-3">
				<label for="precio" class="form-label">Precio:</label> <input
					type="number" id="precio" name="precio" class="form-control"
					step="0.01" th:value="${evento.precio}" required />
				<div class="invalid-feedback">Por favor, introduce el precio.</div>
			</div>
			<div class="mb-3">
				<label for="tipo" class="form-label">Tipo:</label> <select id="tipo"
					name="tipo.idTipo" class="form-select" required>
					<option value="0">Selecciona un tipo</option>
					<option th:each="tipo : ${tipos}" th:value="${tipo.idTipo}"
						th:text="${tipo.nombre}"
						th:selected="${evento.tipo != null && evento.tipo.idTipo == tipo.idTipo}"></option>
				</select>
				<div class="invalid-feedback">Por favor, selecciona un tipo.</div>
			</div>
			<div class="d-flex justify-content-between">
				<button type="submit" class="btn btn-primary">Guardar
					Cambios</button>
				<a th:href="@{/home}" class="btn btn-secondary">Cancelar</a>
			</div>
		</form>
	</div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
